{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Extreme%20SSD/minibeast-ui/src/lib/db.ts"],"sourcesContent":["import mysql from 'mysql2/promise';\n\n// Ensure env vars are loaded (Next.js will load .env.local automatically)\nconst {\n  MYSQL_HOST,\n  MYSQL_USER,\n  MYSQL_PASSWORD,\n  MYSQL_DATABASE,\n  MYSQL_PORT\n} = process.env;\n\nif (!MYSQL_HOST || !MYSQL_USER || !MYSQL_PASSWORD || !MYSQL_DATABASE) {\n  // We keep this throw so misconfig surfaces early on the server\n  throw new Error('Missing MySQL env vars. Please set MYSQL_HOST, MYSQL_USER, MYSQL_PASSWORD, MYSQL_DATABASE');\n}\n\nconst useSSL = process.env.MYSQL_SSL === 'true';\nconst rejectUnauthorized = process.env.MYSQL_SSL_REJECT_UNAUTHORIZED !== 'false';\n\ndeclare global {\n  // eslint-disable-next-line no-var\n  var __mysqlPool: mysql.Pool | undefined;\n}\n\nfunction createPool() {\n  return mysql.createPool({\n    host: MYSQL_HOST,\n    user: MYSQL_USER,\n    password: MYSQL_PASSWORD,\n    database: MYSQL_DATABASE,\n    port: MYSQL_PORT ? Number(MYSQL_PORT) : 3306,\n    waitForConnections: true,\n    connectionLimit: 10,\n    queueLimit: 0,\n    // Optional SSL for Hostinger/remote MySQL\n    ssl: useSSL ? { rejectUnauthorized } : undefined,\n  });\n}\n\nexport const pool: mysql.Pool = global.__mysqlPool ?? createPool();\n\nif (process.env.NODE_ENV !== 'production') {\n  global.__mysqlPool = pool;\n}\n\nexport default pool;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,0EAA0E;AAC1E,MAAM,EACJ,UAAU,EACV,UAAU,EACV,cAAc,EACd,cAAc,EACd,UAAU,EACX,GAAG,QAAQ,GAAG;AAEf,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,kBAAkB,CAAC,gBAAgB;IACpE,+DAA+D;IAC/D,MAAM,IAAI,MAAM;AAClB;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,SAAS,KAAK;AACzC,MAAM,qBAAqB,QAAQ,GAAG,CAAC,6BAA6B,KAAK;AAOzE,SAAS;IACP,OAAO,mIAAA,CAAA,UAAK,CAAC,UAAU,CAAC;QACtB,MAAM;QACN,MAAM;QACN,UAAU;QACV,UAAU;QACV,MAAM,aAAa,OAAO,cAAc;QACxC,oBAAoB;QACpB,iBAAiB;QACjB,YAAY;QACZ,0CAA0C;QAC1C,KAAK,SAAS;YAAE;QAAmB,IAAI;IACzC;AACF;AAEO,MAAM,OAAmB,OAAO,WAAW,IAAI;AAEtD,wCAA2C;IACzC,OAAO,WAAW,GAAG;AACvB;uCAEe","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Extreme%20SSD/minibeast-ui/src/lib/data.ts"],"sourcesContent":["import pool from './db';\nimport type { Contact } from '@/lib/types';\n\nasync function queryDatabase<T>(sql: string, params: any[] = []): Promise<T[]> {\n  let connection;\n  try {\n    connection = await pool.getConnection();\n    const [rows] = await connection.query(sql, params);\n    return rows as T[];\n  } finally {\n    if (connection) connection.release();\n  }\n}\n\nexport async function addContact(input: {\n  name: string;\n  firstName?: string;\n  lastName?: string;\n  email?: string;\n  phone?: string;\n  company?: string;\n  jobTitle?: string;\n  country?: string;\n  zip?: string;\n  consent?: boolean;\n  message?: string;\n}): Promise<Contact> {\n  let conn: any;\n  try {\n    conn = await pool.getConnection();\n    await conn.beginTransaction();\n\n    const sql = 'INSERT INTO `contacts` (`name`, `first_name`, `last_name`, `email`, `phone`, `company`, `job_title`, `country`, `zip`, `consent`, `message`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)';\n    const values = [\n      input.name,\n      input.firstName || null,\n      input.lastName || null,\n      input.email || null,\n      input.phone || null,\n      input.company || null,\n      input.jobTitle || null,\n      input.country || null,\n      input.zip || null,\n      input.consent ? 1 : 0,\n      input.message || null,\n    ];\n\n    const [result]: any = await conn.query(sql, values);\n    const insertId = result.insertId as number;\n\n    const [rows] = await conn.query('SELECT * FROM `contacts` WHERE `id` = ?', [insertId]);\n\n    await conn.commit();\n    return (rows as Contact[])[0];\n  } catch (err) {\n    if (conn) await conn.rollback();\n    throw err;\n  } finally {\n    if (conn) conn.release();\n  }\n}\n\nexport async function listContacts(limit = 50): Promise<Contact[]> {\n  return queryDatabase<Contact>('SELECT * FROM `contacts` ORDER BY `id` DESC LIMIT ?', [limit]);\n}\n"],"names":[],"mappings":";;;;AAAA;;AAGA,eAAe,cAAiB,GAAW,EAAE,SAAgB,EAAE;IAC7D,IAAI;IACJ,IAAI;QACF,aAAa,MAAM,kHAAA,CAAA,UAAI,CAAC,aAAa;QACrC,MAAM,CAAC,KAAK,GAAG,MAAM,WAAW,KAAK,CAAC,KAAK;QAC3C,OAAO;IACT,SAAU;QACR,IAAI,YAAY,WAAW,OAAO;IACpC;AACF;AAEO,eAAe,WAAW,KAYhC;IACC,IAAI;IACJ,IAAI;QACF,OAAO,MAAM,kHAAA,CAAA,UAAI,CAAC,aAAa;QAC/B,MAAM,KAAK,gBAAgB;QAE3B,MAAM,MAAM;QACZ,MAAM,SAAS;YACb,MAAM,IAAI;YACV,MAAM,SAAS,IAAI;YACnB,MAAM,QAAQ,IAAI;YAClB,MAAM,KAAK,IAAI;YACf,MAAM,KAAK,IAAI;YACf,MAAM,OAAO,IAAI;YACjB,MAAM,QAAQ,IAAI;YAClB,MAAM,OAAO,IAAI;YACjB,MAAM,GAAG,IAAI;YACb,MAAM,OAAO,GAAG,IAAI;YACpB,MAAM,OAAO,IAAI;SAClB;QAED,MAAM,CAAC,OAAO,GAAQ,MAAM,KAAK,KAAK,CAAC,KAAK;QAC5C,MAAM,WAAW,OAAO,QAAQ;QAEhC,MAAM,CAAC,KAAK,GAAG,MAAM,KAAK,KAAK,CAAC,2CAA2C;YAAC;SAAS;QAErF,MAAM,KAAK,MAAM;QACjB,OAAO,AAAC,IAAkB,CAAC,EAAE;IAC/B,EAAE,OAAO,KAAK;QACZ,IAAI,MAAM,MAAM,KAAK,QAAQ;QAC7B,MAAM;IACR,SAAU;QACR,IAAI,MAAM,KAAK,OAAO;IACxB;AACF;AAEO,eAAe,aAAa,QAAQ,EAAE;IAC3C,OAAO,cAAuB,uDAAuD;QAAC;KAAM;AAC9F","debugId":null}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Extreme%20SSD/minibeast-ui/src/app/api/contact/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { addContact } from '@/lib/data';\n\nexport const runtime = 'nodejs';\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json().catch(() => ({}));\n    const name = (body.name ?? '').toString().trim();\n    const email = (body.email ?? '').toString().trim() || undefined;\n    const phone = (body.phone ?? '').toString().trim() || undefined;\n    const message = (body.message ?? '').toString().trim() || undefined;\n\n    let firstName = (body.firstName ?? '').toString().trim() || undefined;\n    let lastName = (body.lastName ?? '').toString().trim() || undefined;\n    const company = (body.company ?? '').toString().trim() || undefined;\n    const jobTitle = (body.jobTitle ?? '').toString().trim() || undefined;\n    const country = (body.country ?? '').toString().trim() || undefined;\n    const zip = (body.zip ?? '').toString().trim() || undefined;\n    const consent = Boolean(body.consent ?? false);\n\n    if (!name) {\n      return NextResponse.json({ error: 'Name is required' }, { status: 400 });\n    }\n\n    // Fallback: derive first/last from name if not provided\n    if (!firstName || !lastName) {\n      const parts = name.split(' ').filter(Boolean);\n      if (!firstName && parts.length > 0) firstName = parts[0];\n      if (!lastName && parts.length > 1) lastName = parts.slice(1).join(' ');\n    }\n\n    const contact = await addContact({\n      name,\n      firstName,\n      lastName,\n      email,\n      phone,\n      company,\n      jobTitle,\n      country,\n      zip,\n      consent,\n      message,\n    });\n    return NextResponse.json({ success: true, contact });\n  } catch (error: any) {\n    console.error('POST /api/contact error:', error);\n    // Return the error message to aid debugging (remove or mask in production if needed)\n    const message = error?.message || 'Internal Server Error';\n    return NextResponse.json({ error: message }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAEhB,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACjD,MAAM,OAAO,CAAC,KAAK,IAAI,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI;QAC9C,MAAM,QAAQ,CAAC,KAAK,KAAK,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,MAAM;QACtD,MAAM,QAAQ,CAAC,KAAK,KAAK,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,MAAM;QACtD,MAAM,UAAU,CAAC,KAAK,OAAO,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,MAAM;QAE1D,IAAI,YAAY,CAAC,KAAK,SAAS,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,MAAM;QAC5D,IAAI,WAAW,CAAC,KAAK,QAAQ,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,MAAM;QAC1D,MAAM,UAAU,CAAC,KAAK,OAAO,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,MAAM;QAC1D,MAAM,WAAW,CAAC,KAAK,QAAQ,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,MAAM;QAC5D,MAAM,UAAU,CAAC,KAAK,OAAO,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,MAAM;QAC1D,MAAM,MAAM,CAAC,KAAK,GAAG,IAAI,EAAE,EAAE,QAAQ,GAAG,IAAI,MAAM;QAClD,MAAM,UAAU,QAAQ,KAAK,OAAO,IAAI;QAExC,IAAI,CAAC,MAAM;YACT,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QACxE;QAEA,wDAAwD;QACxD,IAAI,CAAC,aAAa,CAAC,UAAU;YAC3B,MAAM,QAAQ,KAAK,KAAK,CAAC,KAAK,MAAM,CAAC;YACrC,IAAI,CAAC,aAAa,MAAM,MAAM,GAAG,GAAG,YAAY,KAAK,CAAC,EAAE;YACxD,IAAI,CAAC,YAAY,MAAM,MAAM,GAAG,GAAG,WAAW,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC;QACpE;QAEA,MAAM,UAAU,MAAM,CAAA,GAAA,oHAAA,CAAA,aAAU,AAAD,EAAE;YAC/B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;QACA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAQ;IACpD,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,qFAAqF;QACrF,MAAM,UAAU,OAAO,WAAW;QAClC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAQ,GAAG;YAAE,QAAQ;QAAI;IAC7D;AACF","debugId":null}}]
}